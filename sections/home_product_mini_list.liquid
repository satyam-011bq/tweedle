<div data-section-id="{{ section.id }}" data-section-type="product-mini-list-section" class="product-mini-list-section {{section.settings.banner_preset}} {% if section.settings.enable_style == true %}incify-styles{% endif %}" {% if section.settings.enable_style == true %}data-styles='{
  {% if section.settings.style_top != '' %}
  "margin-top":"{{ section.settings.style_top }}px",
  {% endif %}
  {% if section.settings.style_bottom != '' %}
  "margin-bottom":"{{ section.settings.style_bottom }}px",
  {% endif %}
  {% if section.settings.style_left != '' %}
  "margin-left":"{{ section.settings.style_left }}px",
  {% endif %}
  {% if section.settings.style_right != '' %}
  "margin-right":"{{ section.settings.style_right }}px"
  {% endif %}
}'{% endif %}>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
          <div class="grid-x grid-padding-x small-up-1 medium-up-1 large-up-{{section.settings.grid}} product-mini-list">
            {% for block in section.blocks %}
            {% assign collection = collections[block.settings.collection] %}
            <div class="cell">
              <h3 class="title">{{ block.settings.title}}</h3>
              <ul>
                {% for product in collection.products limit: block.settings.product_number %}
                  {% include "product-mini-item" %}
                {% endfor %}
              </ul>
              <div class="more-product">
                <a href="{{ block.settings.viewmore_url}}" class="btn-all-product">{{ block.settings.viewmore_text}}</a>
              </div>
            </div>
            {% endfor %}
          </div>
      </div>
    </div>
  </div>
</div>
{% schema %}
{
"name": "Product Mini List",
"class": "index-section",
"max_blocks": 4,
"settings": [
  {
    "type": "range",
    "id": "grid",
    "label": "Collections per row",
    "min": 1,
    "max": 4,
    "step": 1,
    "default": 3
  },
  {
    "type": "header",
    "content": "Styles Settings"
  },
  {
   "type": "checkbox",
   "id": "enable_style",
   "default": false,
   "label": "Enable Style Settings"
  },
  {
      "type":      "range",
      "id":        "style_top",
      "min":       0,
      "max":        500,
      "step":       5,
      "unit":       "px",
      "label":     "Space Top",
      "default":   0
  },
  {
      "type":      "range",
      "id":        "style_bottom",
      "min":       0,
      "max":        500,
      "step":       5,
      "unit":       "px",
      "label":     "Space Bottom",
      "default":   0
  },
  {
      "type":      "range",
      "id":        "style_left",
      "min":       0,
      "max":        500,
      "step":       5,
      "unit":       "px",
      "label":     "Space Left",
      "default":   0
  },
  {
      "type":      "range",
      "id":        "style_right",
      "min":       0,
      "max":        500,
      "step":       5,
      "unit":       "px",
      "label":     "Space Right",
      "default":   0
  }
],
"blocks": [
  {
    "type": "mini_collection",
    "name": "Collection",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Collection Tile"
      },
      {
        "label": "Collection",
        "id": "collection",
        "type": "collection"
      },
      {
        "type": "text",
        "id": "product_number",
        "label": "Number Of Product",
        "info": "Number of product will show in this collection",
        "default": "2"
      },
      {
        "type": "text",
        "id": "viewmore_text",
        "label": "View More Text",
        "default": "VIEW ALL PRODUCTS"
      },
      {
        "type": "url",
        "id": "viewmore_url",
        "label": "View More Url"
      }
    ]
  }
],
"presets": [
  {
    "name": "Product Mini List",
    "category": "Collection",
    "blocks": [
      {
        "type": "mini_collection"
      }
    ]
  }
]
}
{% endschema %}
