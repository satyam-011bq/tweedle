{% if section.settings.play_icon != blank %}
{% assign button = section.settings.play_icon | img_url: "master" %}
{% else %}
{% assign button = 'm3-icon-play.png' | asset_url %}
{% endif %}
<div data-section-id="{{ section.id }}" class="banner-video-section layout-{{ section.settings.preset }} lg-mt-75 md-mt-50 xs-mt-30{% if section.settings.enable_parallax == true %} parallax-box{% endif %} {{section.settings.banner_preset}}">
  <div class="incify-video-popup">
      <div class="incify-video-popup__content md-mb-50 xs-mb-20">
        {% include 'shortcode' load: section.settings.content %}
      </div>
      {% if section.settings.video_source == 'vimeo' %}
      <a href="https://player.vimeo.com/video/{{section.settings.video_id}}?autoplay=1" data-rel="lightcase"><img src="{{button}}" alt="" /></a>
      {% else %}
      <a href="//www.youtube.com/embed/{{section.settings.video_id}}?version=3" data-rel="lightcase"><img src="{{button}}" alt="" /></a>
      {% endif %}
  </div>
</div>
<span class="custom-styles-css">
body div[data-section-id="{{ section.id }}"]{
  {% if section.settings.enable_style == true %}
    {% if section.settings.style_top != '' %}
    margin-top:{{ section.settings.style_top }}px;
    {% endif %}
    {% if section.settings.style_bottom != '' %}
    margin-bottom:{{ section.settings.style_bottom }}px;
    {% endif %}
    {% if section.settings.style_left != '' %}
    margin-left:{{ section.settings.style_left }}px;
    {% endif %}
    {% if section.settings.style_right != '' %}
    margin-right:{{ section.settings.style_right }}px;
    {% endif %}
  {% endif %}
  {% if section.settings.background != '' %}
  background-image:url({{ section.settings.background | img_url: 'master' }});
  background-repeat: no-repeat;
  background-position: 50% 50%;
  background-size: cover;
  {% endif %}
  {% if section.settings.padding_top != '' %}
  padding-top:{{ section.settings.padding_top }}px;
  {% endif %}
  padding-bottom:{{ section.settings.padding_bottom }}px;
}
</span>
{% schema %}
{
"name": "Video Banner",
"settings": [
    {
    "type": "header",
    "content": "Video Banner Settings"
    },
    {
      "type": "select",
      "id": "preset",
      "label": "Preset",
      "options": [{
          "value": "default",
          "label": "Default"
        },
        {
          "value": "spa",
          "label": "Main Spa"
        }
      ],
      "default": "default"
    },
    {
     "type": "checkbox",
     "id": "enable_parallax",
     "default": true,
     "label": "Enable Parallax Background"
    },
    {
    "type": "image_picker",
    "id": "background",
    "label": "Banner Background"
    },
    {
      "type": "textarea",
      "id": "content",
      "label": "Content"
    },
    {
    "type": "select",
    "id": "video_source",
    "label": "Video Source",
    "options": [
    {
    "value": "youtube",
    "label": "Youtube"
    },
    {
    "value": "vimeo",
    "label": "Vimeo"
    }
    ],
    "default": "youtube"
    },
    {
      "type": "text",
      "id": "video_id",
      "label": "Video",
      "placeholder": "Vimeo or Youtube video ID"
    },
    {
      "type": "image_picker",
      "id": "play_icon",
      "label": "Custom Play Icon"
    },
    {
        "type":      "range",
        "id":        "padding_top",
        "min":       50,
        "max":        500,
        "step":       10,
        "unit":       "px",
        "label":     "Padding Top",
        "default":   150
    },
    {
        "type":      "range",
        "id":        "padding_bottom",
        "min":       50,
        "max":        500,
        "step":       10,
        "unit":       "px",
        "label":     "Padding Bottom",
        "default":   150
    },
    {
      "type": "header",
      "content": "Styles Settings"
    },
    {
     "type": "checkbox",
     "id": "enable_style",
     "default": false,
     "label": "Enable Style Settings"
    },
    {
        "type":      "range",
        "id":        "style_top",
        "min":       0,
        "max":        500,
        "step":       5,
        "unit":       "px",
        "label":     "Space Top",
        "default":   0
    },
    {
        "type":      "range",
        "id":        "style_bottom",
        "min":       0,
        "max":        500,
        "step":       5,
        "unit":       "px",
        "label":     "Space Bottom",
        "default":   0
    },
    {
        "type":      "range",
        "id":        "style_left",
        "min":       0,
        "max":        500,
        "step":       5,
        "unit":       "px",
        "label":     "Space Left",
        "default":   0
    },
    {
        "type":      "range",
        "id":        "style_right",
        "min":       0,
        "max":        500,
        "step":       5,
        "unit":       "px",
        "label":     "Space Right",
        "default":   0
    }
	],
	"presets": [{
      "name": "Video Banner",
      "category": "Banner"
  	}]
}
{% endschema %}
