{% assign limit = section.settings.tab_collection_limit %}
{% if section.settings.tab_collection_column != '5' and section.settings.tab_collection_column != '7' %}
{% assign col = 12 | divided_by: section.settings.tab_collection_column %}
{% else %}
{% assign col = section.settings.tab_collection_column %}
{% endif %}
{% assign product_limitation = 0 %}
<section data-section-id="{{ section.id }}" class="h1-section-tab-product {{ section.id }} EL_row_padding_65{% if section.settings.background_color != blank %} lg-pt-75 lg-pb-75 xs-pt-50 xs-pb-50{% endif %} style-{{ section.settings.preset }}">
    {% include "block_title" %}
    <div class="{% if section.settings.width_layout == 'boxed' %}container{% else %}container-fluid{% endif %}">
        <div class="main-tab-products">
            <div class="tab-product-collection">
                <div class="category-list ">
                    <div class="tab-selector">
                        <ul class="nav nav-tabs" role="tablist">
                            {% if section.settings.tab_collection_1 !='' %}
                            <li class="active first">
                                <a href="#collection1" data-toggle="tab">
                                    {% if settings.language_enable %}
                                    <span class="lang1 test">{{ section.settings.tab_collection_title_1 | split: '|' | first }}</span>
                                    <span class="lang2">{{ section.settings.tab_collection_title_1 | split: '|' | last }}</span>
                                    {% else %}
                                    {{ section.settings.tab_collection_title_1 | split: '|' | first }}
                                    {% endif %}
                                </a>
                            </li>
                            {% endif %}
                            {% if section.settings.tab_collection_2 !='' %}
                            <li>
                                <a href="#collection2" data-toggle="tab">
                                    {% if settings.language_enable %}
                                    <span class="lang1">{{ section.settings.tab_collection_title_2 | split: '|' | first }}</span>
                                    <span class="lang2">{{ section.settings.tab_collection_title_2 | split: '|' | last }}</span>
                                    {% else %}
                                    {{ section.settings.tab_collection_title_2 | split: '|' | first }}
                                    {% endif %}
                                </a>
                            </li>
                            {% endif %}
                            {% if section.settings.tab_collection_3 !='' %}
                            <li>
                                <a href="#collection3" data-toggle="tab">
                                    {% if settings.language_enable %}
                                    <span class="lang1">{{ section.settings.tab_collection_title_3 | split: '|' | first }}</span>
                                    <span class="lang2">{{ section.settings.tab_collection_title_3 | split: '|' | last }}</span>
                                    {% else %}
                                    {{ section.settings.tab_collection_title_3 | split: '|' | first }}
                                    {% endif %}
                                </a>
                            </li>
                            {% endif %}
                            {% if section.settings.tab_collection_4 !='' %}
                            <li>
                                <a href="#collection4" data-toggle="tab">
                                    {% if settings.language_enable %}
                                    <span class="lang1">{{ section.settings.tab_collection_title_4 | split: '|' | first }}</span>
                                    <span class="lang2">{{ section.settings.tab_collection_title_4 | split: '|' | last }}</span>
                                    {% else %}
                                    {{ section.settings.tab_collection_title_4 | split: '|' | first }}
                                    {% endif %}
                                </a>
                            </li>
                            {% endif %}
                            {% if section.settings.tab_collection_5 !='' %}
                            <li>
                                <a href="#collection5" data-toggle="tab">
                                    {% if settings.language_enable %}
                                    <span class="lang1">{{ section.settings.tab_collection_title_5 | split: '|' | first }}</span>
                                    <span class="lang2">{{ section.settings.tab_collection_title_5 | split: '|' | last }}</span>
                                    {% else %}
                                    {{ section.settings.tab_collection_title_5 | split: '|' | first }}
                                    {% endif %}
                                </a>
                            </li>
                            {% endif %}
                        </ul>
                    </div>
                </div>
                <div class="category-detail">
                    <div class="tab-content">
                        {% if section.settings.tab_collection_1 !='' %}
                        <div class="tab-pane active" id="collection1">
                            <div class="category-products">
                              {% assign collection1 = collections[section.settings.tab_collection_1] %}
                              {%- assign collection = collections[section.settings.collection] -%}
                              <ul class="products-grid columns{{section.settings.tab_collection_column}} flex-grid">
                                  {% for product in collection1.products limit: section.settings.tab_collection_limit %}
                                  <li class="item product product-layout-grid">
                                      {% include 'product-tab-grid-item' %}
                                  </li>
                                  {% endfor %}
                              </ul>
                            </div>

                        </div>
                        {% endif %}
                        {% if section.settings.tab_collection_2 !='' %}
                        <div class="tab-pane" id="collection2">
                            <div class="category-products">
                              {% assign collection2 = collections[section.settings.tab_collection_2] %}
                              {%- assign collection = collections[section.settings.collection] -%}
                              <ul class="products-grid columns{{section.settings.tab_collection_column}} flex-grid">
                                  {% for product in collection2.products limit: section.settings.tab_collection_limit %}
                                  <li class="item product product-layout-grid">
                                      {% include 'product-tab-grid-item' %}
                                  </li>
                                  {% endfor %}
                              </ul>
                            </div>
                        </div>
                        {% endif %}
                        {% if section.settings.tab_collection_3 !='' %}
                        <div class="tab-pane" id="collection3">
                            <div class="category-products">
                                {% assign collection3 = collections[section.settings.tab_collection_3] %}
                                {%- assign collection = collections[section.settings.collection] -%}
                                <ul class="products-grid columns{{section.settings.tab_collection_column}} flex-grid">
                                    {% for product in collection3.products limit: section.settings.tab_collection_limit %}
                                    <li class="item product product-layout-grid">
                                        {% include 'product-tab-grid-item' %}
                                    </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        {% endif %}
                        {% if section.settings.tab_collection_4 !='' %}
                        <div class="tab-pane" id="collection4">
                            <div class="category-products">
                                {% assign collection4 = collections[section.settings.tab_collection_4] %}
                                <ul class="products-grid columns{{section.settings.tab_collection_column}} flex-grid">
                                    {% for product in collection4.products limit: section.settings.tab_collection_limit %}
                                    <li class="item product product-layout-grid">
                                        {% include 'product-tab-grid-item' %}
                                    </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        {% endif %}
                        {% if section.settings.tab_collection_5 !='' %}
                        <div class="tab-pane" id="collection5">
                            <div class="category-products">
                                {% assign collection5 = collections[section.settings.tab_collection_5] %}
                                <ul class="products-grid columns{{section.settings.tab_collection_column}} flex-grid">
                                    {% for product in collection5.products limit: section.settings.tab_collection_limit %}
                                    <li class="item product product-layout-grid">
                                        {% include 'product-tab-grid-item' %}
                                    </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="more-product">
            <a href="{% if section.settings.tab_collection_link_all_product != blank %}{{section.settings.tab_collection_link_all_product}}{% else %}#{% endif %}" class="btn-all-product">{% if section.settings.tab_collection_view_all_product != blank %}{{ section.settings.tab_collection_view_all_product }}{% endif %}</a>
        </div>
    </div>
</section>
<span class="custom-styles-css">
  .h1-section-tab-product.{{ section.id }} {
  {% if section.settings.background_color != blank %}
  background-color: {{ section.settings.background_color }};
  {% endif %}
  {% if section.settings.enable_style == true %}
    {% if section.settings.style_top != '' %}
    margin-top:{{ section.settings.style_top }}px;
    {% endif %}
    {% if section.settings.style_bottom != '' %}
    margin-bottom:{{ section.settings.style_bottom }}px;
    {% endif %}
    {% if section.settings.style_left != '' %}
    margin-left:{{ section.settings.style_left }}px;
    {% endif %}
    {% if section.settings.style_right != '' %}
    margin-right:{{ section.settings.style_right }}px;
    {% endif %}
  {% endif %}
  }
</span>
{% schema %}
  {
  "name": "Tab Collection",
  "settings": [{
      "type": "header",
      "content": "Main Tab Collection"
    },
    {
      "type": "select",
      "id": "preset",
      "label": "Style",
      "options": [{
          "value": "default",
          "label": "Default "
        },
        {
          "value": "sport",
          "label": "Main Sport"
        },
        {
          "value": "furniture",
          "label": "Main Furniture"
        },
        {
          "value": "main-16",
          "label": "Main 16"
        }
      ],
      "default": "default"
    },
    {
      "type": "select",
      "id": "preset_section_title",
      "label": "Preset Section Title",
      "options": [{
          "value": "style_1",
          "label": "Style 1"
        },
        {
          "value": "style_2",
          "label": "Style 2"
        },
        {
          "value": "style_3",
          "label": "Style 3"
        },
        {
          "value": "style_4",
          "label": "Style 4"
        },
        {
          "value": "style_5",
          "label": "Style 5"
        },
        {
          "value": "style_6",
          "label": "Style 6"
        },
        {
          "value": "style_7",
          "label": "Style 7"
        },
        {
          "value": "style_8",
          "label": "Style 8"
        },
        {
          "value": "style_9",
          "label": "Style 9"
        },
        {
          "value": "style_10",
          "label": "Style 10"
        },
        {
          "value": "style_11",
          "label": "Style 11"
        }
      ],
      "default": "style_1"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Backgound Color"
    },
    {
      "type": "select",
      "id": "width_layout",
      "label": "Display Full Width / Boxed",
      "options": [{
          "value": "full",
          "label": "Full Width"
        },
        {
          "value": "boxed",
          "label": "Boxed"
        }
      ],
      "default": "full"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Tab Collection Title"
    },
    {
      "type": "text",
      "id": "sub_title",
      "label": "Tab Collection Sub Title"
    },
    {
      "type": "text",
      "id": "tab_collection_view_all_product",
      "label": "Text View All Product"
    },
    {
      "type": "url",
      "id": "tab_collection_link_all_product",
      "label": "Custom Link"
    },
    {
      "type": "text",
      "id": "tab_collection_limit",
      "label": "Number of products to show",
      "default": "12"
    },
    {
      "type": "text",
      "id": "tab_collection_column",
      "label": "Products per row",
      "default": "4"
    },
    {
      "type": "header",
      "content": "Tab Collection 1"
    },
    {
      "type": "text",
      "id": "tab_collection_title_1",
      "label": "Collection title"
    },
    {
      "type": "collection",
      "id": "tab_collection_1",
      "label": "Collection use:"
    },
    {
      "type": "header",
      "content": "Tab Collection 2"
    },
    {
      "type": "text",
      "id": "tab_collection_title_2",
      "label": "Collection title"
    },
    {
      "type": "collection",
      "id": "tab_collection_2",
      "label": "Collection use:"
    },
    {
      "type": "header",
      "content": "Tab Collection 3"
    },
    {
      "type": "text",
      "id": "tab_collection_title_3",
      "label": "Collection title"
    },
    {
      "type": "collection",
      "id": "tab_collection_3",
      "label": "Collection use:"
    },
    {
      "type": "header",
      "content": "Tab Collection 4"
    },
    {
      "type": "text",
      "id": "tab_collection_title_4",
      "label": "Collection title"
    },
    {
      "type": "collection",
      "id": "tab_collection_4",
      "label": "Collection use:"
    },
    {
      "type": "header",
      "content": "Tab Collection 5"
    },
    {
      "type": "text",
      "id": "tab_collection_title_5",
      "label": "Collection title"
    },
    {
      "type": "collection",
      "id": "tab_collection_5",
      "label": "Collection use:"
    },
    {
      "type": "header",
      "content": "Styles Settings"
    },
    {
      "type": "checkbox",
      "id": "enable_style",
      "default": false,
      "label": "Enable Style Settings"
    },
    {
      "type": "range",
      "id": "style_top",
      "min": 0,
      "max": 500,
      "step": 5,
      "unit": "px",
      "label": "Space Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "style_bottom",
      "min": 0,
      "max": 500,
      "step": 5,
      "unit": "px",
      "label": "Space Bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "style_left",
      "min": 0,
      "max": 500,
      "step": 5,
      "unit": "px",
      "label": "Space Left",
      "default": 0
    },
    {
      "type": "range",
      "id": "style_right",
      "min": 0,
      "max": 500,
      "step": 5,
      "unit": "px",
      "label": "Space Right",
      "default": 0
    }
  ],
  "presets": [{
    "name": "Tab Collection",
    "category": "Collection"
  }]
}
{% endschema %}
